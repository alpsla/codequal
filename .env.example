# CodeQual Environment Configuration
# Copy this file to .env and fill in your actual values

# =====================================
# Supabase Configuration
# =====================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
SUPABASE_JWT_SECRET=your-jwt-secret-here

# =====================================
# Grafana Configuration
# =====================================
GRAFANA_URL=https://your-grafana.com
GRAFANA_API_KEY=your-grafana-api-key-here

# Grafana Cloud (optional)
GRAFANA_INSTANCE_URL=https://your-instance.grafana.net
GRAFANA_USER_ID=your-grafana-user-id

# =====================================
# Prometheus Configuration
# =====================================
PROMETHEUS_URL=http://localhost:9090

# =====================================
# Alert Configuration
# =====================================
# Slack Integration
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_SECURITY_WEBHOOK=https://hooks.slack.com/services/YOUR/SECURITY/WEBHOOK

# Email Alerts
ALERT_EMAIL_RECIPIENTS=security@your-company.com,admin@your-company.com

# Webhook Alerts
WEBHOOK_ALERT_URL=https://your-alerting-system.com/webhook
WEBHOOK_ALERT_TOKEN=your-webhook-token

# =====================================
# Security Logging Configuration
# =====================================
# External Log Services
SECURITY_LOG_ENDPOINT=https://logs.your-company.com/api
SECURITY_LOG_API_KEY=your-log-api-key

# =====================================
# Database Configuration
# =====================================
# Database Password (for schema setup)
# Note: This is prompted during setup, not stored in .env for security
# DB_PASSWORD=your-database-password

# =====================================
# Application Configuration
# =====================================
NODE_ENV=development
PORT=3000

# JWT Configuration
JWT_SECRET=your-jwt-secret-for-app
JWT_EXPIRES_IN=24h

# =====================================
# Development/Testing Configuration
# =====================================
# Test Database (optional)
TEST_SUPABASE_URL=https://your-test-project.supabase.co
TEST_SUPABASE_SERVICE_ROLE_KEY=your-test-service-role-key

# Mock Configuration for Testing
ENABLE_MOCK_AUTH=false
ENABLE_TEST_MODE=false

# =====================================
# Optional Integrations
# =====================================
# GitHub Integration (for repository analysis)
GITHUB_TOKEN=your-github-token

# OpenAI API (for enhanced threat analysis)
OPENAI_API_KEY=your-openai-api-key

# OpenRouter API (for dynamic model selection)
OPENROUTER_API_KEY=your-openrouter-api-key

# Stripe (for subscription billing)
STRIPE_SECRET_KEY=your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=your-stripe-webhook-secret

# =====================================
# Security Configuration
# =====================================
# Rate Limiting
DEFAULT_RATE_LIMIT=1000
BURST_RATE_LIMIT=100

# Session Configuration
SESSION_MAX_AGE=24
SESSION_REFRESH_THRESHOLD=2

# Risk Scoring
CRITICAL_RISK_THRESHOLD=85
HIGH_RISK_THRESHOLD=70

# =====================================
# Monitoring and Metrics
# =====================================
# Enable/disable features
ENABLE_SECURITY_LOGGING=true
ENABLE_REAL_TIME_ALERTS=true
ENABLE_METRICS_EXPORT=true
ENABLE_AUDIT_LOGGING=true

# Log Retention
SECURITY_LOG_RETENTION_DAYS=90
AUDIT_LOG_RETENTION_DAYS=365

# =====================================
# Development Utilities
# =====================================
# Debug Mode
DEBUG_AUTH=false
DEBUG_SECURITY=false
DEBUG_ALERTS=false

# Verbose Logging
VERBOSE_SECURITY_LOGS=false
LOG_LEVEL=info